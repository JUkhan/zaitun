!function(t){var e;"undefined"!=typeof window?e=window:"undefined"!=typeof self&&(e=self),e.zaitun=function(){return function t(e,n,i){function o(a,s){if(!n[a]){if(!e[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(r)return r(a,!0);var f=new Error("Cannot find module '"+a+"'");throw f.code="MODULE_NOT_FOUND",f}var h=n[a]={exports:{}};e[a][0].call(h.exports,function(t){var n=e[a][1][t];return o(n?n:t)},h,h.exports,t,e,n,i)}return n[a].exports}for(var r="function"==typeof require&&require,a=0;a<i.length;a++)o(i[a]);return o}({1:[function(t,e,n){"use strict";function i(t){return"string"==typeof t||"number"==typeof t||"boolean"==typeof t||"symbol"==typeof t||null===t||void 0===t}function o(t,e,n,i){function o(t,e,n){(r[t]||(r[t]={}))[e]=n}for(var r={ns:e},a=0,s=i.length;a<s;a++){var c=i[a];t[c]&&(r[c]=t[c])}for(var f in t)if("key"!==f&&"classNames"!==f&&"selector"!==f){var h=f.indexOf("-");h>0?o(f.slice(0,h),f.slice(h+1),t[f]):r[f]||o(n,f,t[f])}return r}function r(t,e,n,r,a,s){if(a.selector&&(r+=a.selector),a.classNames){var c=a.classNames;r=r+"."+(Array.isArray(c)?c.join("."):c.replace(/\s+/g,"."))}return{sel:r,data:o(a,t,e,n),children:s.map(function(t){return i(t)?{text:t}:t}),key:a.key}}function a(t,e,n,i,o,r){var a;if("function"==typeof i)a=i(o,r);else if(i&&"function"==typeof i.view)a=i.view(o,r);else{if(!i||"function"!=typeof i.render)throw"JSX tag must be either a string, a function or an object with 'view' or 'render' methods";a=i.render(o,r)}return a.key=o.key,a}function s(t,e,n){for(var i=e,o=t.length;i<o;i++){var r=t[i];Array.isArray(r)?s(r,0,n):n.push(r)}}function c(t){if(t)for(var e=0,n=t.length;e<n;e++)if(Array.isArray(t[e])){var i=t.slice(0,e);s(t,e,i),t=i;break}return t}function f(t,e,n,i,o,s){return o=o||{},s=c(s),"string"==typeof i?r(t,e,n,i,o,s):a(t,e,n,i,o,s)}function h(t,e,n){return function(i,o,r){return(arguments.length>3||!Array.isArray(r))&&(r=u.call(arguments,2)),f(t,e||"props",n||l,i,o,r)}}var l=["hook","on","style","class","props","attrs"],u=Array.prototype.slice;e.exports={html:h(void 0),svg:h("http://www.w3.org/2000/svg","attrs"),JSX:h}},{}],2:[function(t,e,n){function i(t,e){if(t.ns="http://www.w3.org/2000/svg",void 0!==e)for(var n=0;n<e.length;++n)i(e[n].data,e[n].children)}var o=t("./vnode"),r=t("./is");e.exports=function(t,e,n){var a,s,c,f={};if(void 0!==n?(f=e,r.array(n)?a=n:r.primitive(n)&&(s=n)):void 0!==e&&(r.array(e)?a=e:r.primitive(e)?s=e:f=e),r.array(a))for(c=0;c<a.length;++c)r.primitive(a[c])&&(a[c]=o(void 0,void 0,void 0,a[c]));return"s"===t[0]&&"v"===t[1]&&"g"===t[2]&&i(f,a),o(t,f,a,s,void 0)}},{"./is":4,"./vnode":10}],3:[function(t,e,n){function i(t){return document.createElement(t)}function o(t,e){return document.createElementNS(t,e)}function r(t){return document.createTextNode(t)}function a(t,e,n){t.insertBefore(e,n)}function s(t,e){t.removeChild(e)}function c(t,e){t.appendChild(e)}function f(t){return t.parentElement}function h(t){return t.nextSibling}function l(t){return t.tagName}function u(t,e){t.textContent=e}e.exports={createElement:i,createElementNS:o,createTextNode:r,appendChild:c,removeChild:s,insertBefore:a,parentNode:f,nextSibling:h,tagName:l,setTextContent:u}},{}],4:[function(t,e,n){e.exports={array:Array.isArray,primitive:function(t){return"string"==typeof t||"number"==typeof t}}},{}],5:[function(t,e,n){function i(t,e){var n,i,o=e.elm,r=t.data.class||{},a=e.data.class||{};for(i in r)a[i]||o.classList.remove(i);for(i in a)(n=a[i])!==r[i]&&o.classList[n?"add":"remove"](i)}e.exports={create:i,update:i}},{}],6:[function(t,e,n){function i(t){return function(){t.length&&(2===t.length?t[0](t[1]):t[0].apply(void 0,t.slice(1)))}}function o(t){return function(e){null!==t.fn&&t.fn(e)}}function r(t,e){var n,r,s,c=e.elm,f=t.data.on||{},h=e.data.on;if(h){for(n in h)if(r=h[n],void 0===(s=f[n]))a.array(r)?c.addEventListener(n,i(r)):(r={fn:r},h[n]=r,c.addEventListener(n,o(r)));else if(a.array(s)){s.length=r.length;for(var l=0;l<s.length;++l)s[l]=r[l];h[n]=s}else s.fn=r,h[n]=s;if(f)for(n in f)if(void 0===h[n]){var s=f[n];a.array(s)?s.length=0:s.fn=null}}}var a=t("../is");e.exports={create:r,update:r}},{"../is":4}],7:[function(t,e,n){function i(t,e){var n,i,o=e.elm,r=t.data.props||{},a=e.data.props||{};for(n in r)a[n]||delete o[n];for(n in a)i=a[n],r[n]===i||"value"===n&&o[n]===i||(o[n]=i)}e.exports={create:i,update:i}},{}],8:[function(t,e,n){function i(t,e,n){c(function(){t[e]=n})}function o(t,e){var n,o,r=e.elm,a=t.data.style||{},s=e.data.style||{},c="delayed"in a;for(o in a)s[o]||(r.style[o]="");for(o in s)if(n=s[o],"delayed"===o)for(o in s.delayed)n=s.delayed[o],c&&n===a.delayed[o]||i(r.style,o,n);else"remove"!==o&&n!==a[o]&&(r.style[o]=n)}function r(t){var e,n,i=t.elm,o=t.data.style;if(o&&(e=o.destroy))for(n in e)i.style[n]=e[n]}function a(t,e){var n=t.data.style;if(!n||!n.remove)return void e();var i,o,r=t.elm,a=0,s=n.remove,c=0,f=[];for(i in s)f.push(i),r.style[i]=s[i];o=getComputedStyle(r);for(var h=o["transition-property"].split(", ");a<h.length;++a)f.indexOf(h[a])!==-1&&c++;r.addEventListener("transitionend",function(t){t.target===r&&--c,0===c&&e()})}var s="undefined"!=typeof window&&window.requestAnimationFrame||setTimeout,c=function(t){s(function(){s(t)})};e.exports={create:o,update:o,destroy:r,remove:a}},{}],9:[function(t,e,n){"use strict";function i(t){return void 0===t}function o(t){return void 0!==t}function r(t,e){return t.key===e.key&&t.sel===e.sel}function a(t,e,n){var i,r,a={};for(i=e;i<=n;++i)r=t[i].key,o(r)&&(a[r]=i);return a}function s(t,e){function n(t){return c(e.tagName(t).toLowerCase(),{},[],void 0,t)}function s(t,n){return function(){if(0==--n){var i=e.parentNode(t);e.removeChild(i,t)}}}function d(t,n){var i,r=t.data;o(r)&&o(i=r.hook)&&o(i=i.init)&&(i(t),r=t.data);var a,s=t.children,c=t.sel;if(o(c)){var h=c.indexOf("#"),u=c.indexOf(".",h),m=h>0?h:c.length,p=u>0?u:c.length,v=h!==-1||u!==-1?c.slice(0,Math.min(m,p)):c;if(a=t.elm=o(r)&&o(i=r.ns)?e.createElementNS(i,v):e.createElement(v),m<p&&(a.id=c.slice(m+1,p)),u>0&&(a.className=c.slice(p+1).replace(/\./g," ")),f.array(s))for(i=0;i<s.length;++i)e.appendChild(a,d(s[i],n));else f.primitive(t.text)&&e.appendChild(a,e.createTextNode(t.text));for(i=0;i<C.create.length;++i)C.create[i](l,t);i=t.data.hook,o(i)&&(i.create&&i.create(l,t),i.insert&&n.push(t))}else a=t.elm=e.createTextNode(t.text);return t.elm}function m(t,n,i,o,r,a){for(;o<=r;++o)e.insertBefore(t,d(i[o],a),n)}function p(t){var e,n,i=t.data;if(o(i)){for(o(e=i.hook)&&o(e=e.destroy)&&e(t),e=0;e<C.destroy.length;++e)C.destroy[e](t);if(o(e=t.children))for(n=0;n<t.children.length;++n)p(t.children[n])}}function v(t,n,i,r){for(;i<=r;++i){var a,c,f,h=n[i];if(o(h))if(o(h.sel)){for(p(h),c=C.remove.length+1,f=s(h.elm,c),a=0;a<C.remove.length;++a)C.remove[a](h,f);o(a=h.data)&&o(a=a.hook)&&o(a=a.remove)?a(h,f):f()}else e.removeChild(t,h.elm)}}function y(t,n,o,s){for(var c,f,h,l,u=0,p=0,y=n.length-1,b=n[0],x=n[y],C=o.length-1,w=o[0],k=o[C];u<=y&&p<=C;)i(b)?b=n[++u]:i(x)?x=n[--y]:r(b,w)?(g(b,w,s),b=n[++u],w=o[++p]):r(x,k)?(g(x,k,s),x=n[--y],k=o[--C]):r(b,k)?(g(b,k,s),e.insertBefore(t,b.elm,e.nextSibling(x.elm)),b=n[++u],k=o[--C]):r(x,w)?(g(x,w,s),e.insertBefore(t,x.elm,b.elm),x=n[--y],w=o[++p]):(i(c)&&(c=a(n,u,y)),f=c[w.key],i(f)?(e.insertBefore(t,d(w,s),b.elm),w=o[++p]):(h=n[f],g(h,w,s),n[f]=void 0,e.insertBefore(t,h.elm,b.elm),w=o[++p]));u>y?(l=i(o[C+1])?null:o[C+1].elm,m(t,l,o,p,C,s)):p>C&&v(t,n,u,y)}function g(t,n,a){var s,c;o(s=n.data)&&o(c=s.hook)&&o(s=c.prepatch)&&s(t,n);var f=n.elm=t.elm,h=t.children,l=n.children;if(t!==n){if(!r(t,n)){var u=e.parentNode(t.elm);return f=d(n,a),e.insertBefore(u,f,t.elm),void v(u,[t],0,0)}if(o(n.data)){for(s=0;s<C.update.length;++s)C.update[s](t,n);s=n.data.hook,o(s)&&o(s=s.update)&&s(t,n)}i(n.text)?o(h)&&o(l)?h!==l&&y(f,h,l,a):o(l)?(o(t.text)&&e.setTextContent(f,""),m(f,null,l,0,l.length-1,a)):o(h)?v(f,h,0,h.length-1):o(t.text)&&e.setTextContent(f,""):t.text!==n.text&&e.setTextContent(f,n.text),o(c)&&o(s=c.postpatch)&&s(t,n)}}var b,x,C={};for(i(e)&&(e=h),b=0;b<u.length;++b)for(C[u[b]]=[],x=0;x<t.length;++x)void 0!==t[x][u[b]]&&C[u[b]].push(t[x][u[b]]);return function(t,o){var a,s,c,f=[];for(a=0;a<C.pre.length;++a)C.pre[a]();for(i(t.sel)&&(t=n(t)),r(t,o)?g(t,o,f):(s=t.elm,c=e.parentNode(s),d(o,f),null!==c&&(e.insertBefore(c,o.elm,e.nextSibling(s)),v(c,[t],0,0))),a=0;a<f.length;++a)f[a].data.hook.insert(f[a]);for(a=0;a<C.post.length;++a)C.post[a]();return o}}var c=t("./vnode"),f=t("./is"),h=t("./htmldomapi"),l=c("",{},[],void 0,void 0),u=["create","update","remove","destroy","pre","post"];e.exports={init:s}},{"./htmldomapi":3,"./is":4,"./vnode":10}],10:[function(t,e,n){e.exports=function(t,e,n,i,o){return{sel:t,data:e,children:n,text:i,elm:o,key:void 0===e?void 0:e.key}}},{}],11:[function(t,e,n){function i(t){if(!t.containerDom)throw new Error("mountNode must be a css selector or a dom object");if(c="string"==typeof t.containerDom?document.querySelector(t.containerDom):t.containerDom,"object"!=typeof t.mainComponent&&"function"!=typeof t.mainComponent)throw new Error("bootstrap options: mainComponent missing.");t.cm=r,a.config(t)}function o(){return{init:function(){return{}},view:function(t){return h("div.com-load","loading...")}}}function r(){this.mcom={},this.child=o(),this.model={},this.params=null,this.devTool=null,this.key="",this.cacheObj={},this.active_route=null,this.initMainComponent=function(t){this.dispatch=this.dispatch.bind(this),"object"==typeof t?this.mcom=t:"function"==typeof t&&(this.mcom=new t),this.validateCom(this.mcom)},this.validateCom=function(t){if("function"!=typeof t.init&&(t.init=function(){return{}}),"function"!=typeof t.view)throw new Error("Component must have a view function.")},this.initChildComponent=function(t){"object"==typeof t?this.child=t:this.key&&this.cacheObj[this.key]?this.child=this.getComponentFromCache(this.key).instance:"function"==typeof t&&(this.child=new t),this.validateCom(this.child)},this.reset=function(){this.model=this.mcom.init(this.dispatch,this.params),"function"==typeof this.child.init&&(this.model.child=this.child.init(this.dispatch,this.params)),this.updateUI()},this.updateByModel=function(t){this.model=t,this.updateUI()},this.loadCom=function(t,e,n){var i=this;t.loadComponent().then(function(o){t.component=o.default,t.loadComponent=void 0,i.runChild(t,e,n)})},this.runChild=function(t,e,n){"function"==typeof t.loadComponent?(this.child=o(),this.updateUI(),this.loadCom(t,e,n)):(this.active_route=t,this.params=e,this.key=t.cache?n:"",this.initChildComponent(t.component),this.model.child=this.key&&this.cacheObj[this.key]?this.getComponentFromCache(this.key).state:this.child.init(this.dispatch,e),this.updateUI(),"function"==typeof this.child.afterViewRender&&this.child.afterViewRender(this.model,this.dispatch),this.devTool&&this.devTool.reset())},this.run=function(t){this.initMainComponent(t),this.model=this.mcom.init(this.dispatch),this.updateUI(),"function"==typeof this.mcom.afterViewRender&&this.mcom.afterViewRender(this.model,this.dispatch)},this.updateUI=function(){c=f(c,this.mcom.view({model:this.model,dispatch:this.dispatch}))},this.dispatch=function(t){this.model=this.mcom.update(this.model,t),this.updateUI(),this.devTool&&this.devTool.setAction(t,this.model)},this.fireDestroyEvent=function(t,e){var n=setTimeout(function(){e(t),clearTimeout(n)},0);this.key&&this.setComponentToCache(this.key,this.child,this.model.child),"function"==typeof this.child.onDestroy&&this.child.onDestroy()},this.canActive=function(t,e){try{if("function"==typeof t.canActivate){var n=new t.canActivate;if("function"==typeof n.canActivate){var i=n.canActivate(a);"object"==typeof i&&i.then?i.then(function(t){e(t)}):e(i)}else e(!0)}else e(!0)}catch(t){e(!1)}},this.destroy=function(t,e){try{if(this.child&&"function"==typeof this.active_route.canDeactivate){var n=new this.active_route.canDeactivate;if("function"==typeof n.canDeactivate){var i=n.canDeactivate(this.child,a);if("object"==typeof i&&i.then){var o=this;i.then(function(n){n&&o.fireDestroyEvent(t,e)})}else i&&this.fireDestroyEvent(t,e)}else this.fireDestroyEvent(t,e)}else this.fireDestroyEvent(t,e)}catch(t){console.log(t)}},this.getComponentFromCache=function(t){return this.cacheObj[t]||{}},this.setComponentToCache=function(t,e,n){this.cacheObj[t]={instance:e,state:n}}}var a=t("./router"),s=t("snabbdom"),c=null,f=s.init([t("snabbdom/modules/class"),t("snabbdom/modules/props"),t("snabbdom/modules/style"),t("snabbdom/modules/eventlisteners")]),h=t("snabbdom/h");e.exports=i},{"./router":13,snabbdom:9,"snabbdom/h":2,"snabbdom/modules/class":5,"snabbdom/modules/eventlisteners":6,"snabbdom/modules/props":7,"snabbdom/modules/style":8}],12:[function(t,e,n){var i=t("snabbdom/h"),o=t("snabbdom-jsx"),r=t("./core"),a=t("./router");e.exports={h:i,html:o.html,svg:o.svg,bootstrap:r,Router:a,jsx:o}},{"./core":11,"./router":13,"snabbdom-jsx":1,"snabbdom/h":2}],13:[function(t,e,n){var i=function(t){function e(t){return t.toString().replace(/\/$/,"").replace(/^\//,"")}function n(t){v=new t,x.CM=v,v.run(b),l&&(new l).setCM(v)}function i(){var n="";if("history"===d)n=t.location.href.replace(p+m,"");else{var i=t.location.href.match(/#(.*)$/);n=i?i[1]:""}return!n&&y.activePath&&(n=y.activePath),e(n)}function o(){var n=!1;t.addEventListener("popstate",function(t){n=!0,s(i())},!1),t.addEventListener("hashchange",function(t){n||s(i()),n=!1},!1),Array.from(document.querySelectorAll("a")).forEach(function(n){n.addEventListener("click",function(i){i.preventDefault(),e(n.href)!==e(t.location.href)&&(n.href.indexOf("#")&&t.location.href.indexOf("#")===-1&&t.location.href.replace(/#(.*)$/,"")+"#"+g===n.href||r(n.href,a(n.href)))},!1)})}function r(n,i){v.canActive(i,function(o){o&&(i._ca_checked=!0,v.destroy(n,function(n){"hash"===d?t.location.href=n:(n=n.replace(p+m,""),history.pushState({x:1},null,m+e(n)),s(n))}))})}function a(t){var n;t.indexOf("#")!==-1?(n=t.match(/#(.*)$/),t=n?n[1]:""):"history"===d&&(t=t.replace(p+m,"")),t=e(t);for(var i=0,o=u.length;i<o;i++){if(e(u[i].path)===t)return u[i];if(u[i].path.match(/:([^\/]+)/g)&&(n=t.match(new RegExp(e(u[i].path).replace(/:([^\/]+)/g,"([^/]*)")))))return u[i]}return null}function s(t){for(var n,i,o,r=0,a=u.length;r<a;r++){if(e(u[r].path)===t)return void f(u[r],null,t);if((n=u[r].path.match(/:([^\/]+)/g))&&(o={},i=t.match(new RegExp(e(u[r].path).replace(/:([^\/]+)/g,"([^/]*)")))))return i.shift(),i.forEach(function(t,e){o[n[e].replace(":","")]=t}),void f(u[r],o,t)}}function c(t){t&&(g||(g="/"===t[0]?t:"/"+t),s(e(i()||t)))}function f(t,e,n){t._ca_checked?h(t,e,n):v.canActive(t,function(i){i&&h(t,e,n)})}function h(t,e,n){t._ca_checked=!1,t.routeParams=e,t.navPath=n,x.activeRoute={routeParams:e,path:t.path,navPath:n,data:t.data||{}},v.runChild(t,e,n)}var l,u=[],d="hash",m="/",p=t.location.origin,v=null,y={},g="",b=null,x={activeRoute:{}};return x.config=function(t){return y=t,d="history"==y.locationStrategy&&history.pushState?"history":"hash",m=y.baseUrl?"/"+e(y.baseUrl)+"/":"/",b=y.mainComponent,u=y.routes||[],l=y.devTool,n(y.cm),o(),c(y.activePath),this},x.add=function(t){u.push(t)},x.remove=function(t){this.routes=this.routes.filter(function(e){return e.path!==t})},x.navigate=function(n){var i=setTimeout(function(){n=n?n:"","history"===d?(history.pushState(null,null,m+e(n)),r(m+e(n),a(n))):r(t.location.href.replace(/#(.*)$/,"")+"#"+n,a(n)),clearTimeout(i)},0)},x}(window);e.exports=i},{}]},{},[12])(12)}()}();